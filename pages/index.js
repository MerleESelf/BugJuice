import Head from "next/head";
import Link from "next/link";
import { useAuthUserContext } from "../components/AuthUserContextProvider";
import { useAuth } from "../hooks/useAuth";

export default function Home() {
  useAuth();
  const { user, logOut, isNewUser } = useAuthUserContext();
  return (
    <div className="h-full w-full">
      <Head>
        <title>Bug Juice </title>
        <meta
          name="description"
          content="A task and bug tracking app generated by create next app"
        />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className="flex h-full w-full flex-col justify-center items-center">
        {user ? (
          <div className="h-1/2 flex flex-col space-y-4 justify-center">
            <h1 className="text-5xl font-bold underline">Bug Juice</h1>
            <div className="flex flex-col items-center justify-center">
              <div>
                {isNewUser ? "WELCOME TO CAMP" : "WELCOME BACK, CAMPER"}
              </div>
              <div>{user.name}</div>
            </div>
            <div className="space-x-2">
              <Link href="/my-todos">
                <button className="btn btn-accent btn-wide ">MY TODOS</button>
              </Link>
              <button className="btn btn-secondary" onClick={logOut}>
                Sign Out
              </button>
            </div>
          </div>
        ) : (
          <Link href="/login">
            <button className="logo">LOGIN</button>
          </Link>
        )}
      </main>
    </div>
  );
}